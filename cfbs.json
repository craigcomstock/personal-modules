{
  "name": "personal-modules",
  "description": "Repository of modules for the hobbyist/developer",
  "type": "module-repo",
  "provides": {
    "create-user-accounts": {
      "description": "Create user accounts according to class expression and list of users",
      "subdirectory": "create-user-accounts",
      "version": "0.0.1",
      "by": "https://github.com/craigcomstock",
      "input": [
        {
          "type": "list",
          "variable": "class_expressions",
          "label": "Class Expressions",
          "subtype": [
            {
              "key": "class_expression",
              "type": "string",
              "label": "Class Expression",
              "question": "Class expression"
            },
            {
              "key": "user_list",
              "type": "string",
              "label": "User List (comma separated)",
              "question": "List of users (comma separated)"
            },
            {
              "key": "hashed_password",
              "type": "string",
              "label": "Hashed Password",
              "question": "Password hashed with htpasswd command"
            },
            {
              "key": "secondary_groups",
              "type": "string",
              "label": "Secondary Groups",
              "question": "List of secondary groups (comma separated)"
            }
          ],
          "while": "Specify another group of users?"
        }
      ],
      "steps": [
        "copy create-user-accounts.cf services/cfbs/modules/create-user-accounts/create-user-accounts.cf",
        "input create-user-accounts/input.json def.json",
        "bundles create_user_accounts",
        "policy_files services/cfbs/modules/create-user-accounts/create-user-accounts.cf"
      ]
    }
  }
}
